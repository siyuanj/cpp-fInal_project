## 总结报告（Plants vs. Zombies: Rogue Defense）

蒋思源 2023013014

这次大作业中，我使用 EasyX 图形库实现了一个 C++ 塔防游戏，其风格类似于《植物大战僵尸》。玩家通过策略性地放置不同类型的植物（攻击型、防御型、资源型）来保护“大脑基地”。

项目的文件结构为

| **文件**                | **描述**                                                     |
| ----------------------- | ------------------------------------------------------------ |
| `main.cpp`              | 包含主游戏循环、窗口初始化、事件处理、游戏状态逻辑和渲染调用。 |
| `Animation.h/.cpp`      | 定义了用于加载图像序列的 `Atlas` 类和用于显示逐帧动画的 `Animation` 类。 |
| `Plant.h/.cpp`          | 定义了抽象基类 `Plant` 及其主要的派生类：`AttackPlant`、`DefensePlant` 和 `ResourcePlant`。 |
| `SpecificPlants.h/.cpp` | 实现了具体的植物类，如 `Sunflower`、`Peashooter`、`Repeater`、`WallNut` 和 `TallWallNut`。 |
| `Zombie.h/.cpp`         | 定义了 `Zombie` 基类、`ArmoredZombie` 子类以及具体的僵尸类型（如 `NormalZombie`, `EliteZombie`, `ConeZombie`, `BucketZombie`）。还包括管理僵尸生成的 `ZombieSpawner` 类。 |
| `Bullet.h/.cpp`         | 实现了植物发射的抛射物 `Bullet` 类及其派生类 `NormalBullet`。 |
| `BrainBase.h/.cpp`      | 定义了玩家需要防御的基地 `BrainBase` 类。                    |
| `Sun.h/.cpp`            | 定义了作为可收集资源的 `Sun` 对象。                          |
| `tombstone.h`           | 定义了 `tombstone` 类，它作为僵尸生成点的视觉标记。          |

我在开发过程中使用了大量面向对象编程的技巧，这同时也加深了我对C++面向对象部分的理解。

在开发过程中，部分在需求报告中的功能并未实现，如更多的植物。但游戏的总框架已经大致完成，后续添加植物只需在相应类中进行继续派生，使用新的输入进行初始化即可完成，较为方便。游戏中也有部分功能未在需求报告中提到，例如游戏胜利/失败次数的储存。

这个游戏总代码量约2000行，其中图片素材主要来自公开图片资源和AI生成。在开发过程中 ，笔者遇到了很多困难，如内存泄漏、类的调用、游戏资源的管理等，在解决这些问题的过程中我也收获颇多，加深了对程序开发的理解。

最后，感谢郑莉老师的认真授课和助教学长（学姐）一学期的付出，使我了解到了更加细致的C++语法，对C++程序设计有了更深入的理解，也锻炼了我使用C++编程的能力。


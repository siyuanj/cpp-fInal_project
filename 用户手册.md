# 用户手册（Plants vs. Zombies: Rogue Defense）

欢迎游玩Plants vs. Zombies: Rogue Defense！本手册将引导您了解游戏的基本操作和玩法。

## 1. 游戏概述

这是一款塔防风格的生存游戏。您的主要目标是保护位于地图上的“大脑基地”，抵御一波又一波来袭的僵尸。通过策略性地在地图上放置拥有不同能力的植物，您可以有效地消灭僵尸，守卫基地。游戏包含多个阶段，从初始设置到紧张刺激的战斗，直至最终的胜利或失败。

## 2. 游戏目标

**保护大脑基地**：确保您的“大脑基地”不被僵尸摧毁。一旦基地的生命值降至零，游戏便会结束。

## 3. 游戏流程

1. **开始界面 (START_SCREEN)**：
   - 游戏启动后，您会看到主菜单界面。
   - 界面上会显示“开始游戏”和“退出游戏”的按钮。
   - 点击“开始游戏”按钮（通常位于屏幕中央靠左的位置）进入下一步。
   - 点击“退出游戏”按钮（通常位于屏幕中央靠右的位置）将关闭游戏。
   - 界面下方会显示您之前的胜场和败场次数。
   - 屏幕左侧会提供基本的操作指南。
2. **选择难度 (SELECT_ZOMBIES)**：
   - 在开始游戏后，您需要选择本局游戏的僵尸生成点数量（即墓碑数量）。
   - 界面上会显示代表不同墓碑数量的按钮（例如，按钮1、按钮2、按钮3）。
   - 选择的墓碑数量越多，僵尸生成的源头就越多，游戏难度相应增加（3 > 2 > 1）。
   - 点击对应的按钮选择您希望的难度。
3. **放置基地 (PLACE_BASE)**：
   - 选择难度后，您需要在地图上为您的“大脑基地”选择一个初始位置。
   - 屏幕上会显示之前选择的墓碑。
   - 通过**鼠标左键点击**地图上的有效位置来放置基地。
   - **注意**：请避免将基地放置得太靠近墓碑（大约200像素范围内）或屏幕的边缘（大约125像素范围内），否则放置无效。
4. **游戏进行中 (PLAYING)**：
   - 基地放置完毕后，游戏正式开始。僵尸将开始从墓碑处生成并向您的基地移动。
   - **收集阳光**：向日葵会自动产生“太阳”资源，这是购买植物所必需的货币。初始阳光数量为500。 屏幕左上角会显示您当前的阳光数量。
   - **玩家角色移动**：您可以控制一个玩家角色在地图上移动。
   - **选择植物**：通过按下键盘上的数字键 `1` 到 `5` 来选择不同类型的植物。
   - **放置植物**：选择植物后，在玩家角色附近，通过**鼠标左键点击**地图的空白区域来放置植物。您必须拥有足够的阳光才能购买并放置该植物。
   - **回合制**：游戏包含多个回合（波数）。每回合会生成一定数量的僵尸。成功消灭当前波数的所有僵尸后，您将有机会进入强化选择阶段，然后开始下一波。 游戏总共 `MAX_ROUNDS`（默认为5）个回合。
   - 界面信息：
     - 屏幕顶部中央会显示当前波数/总波数，以及本波待生成的僵尸数量或下一波开始的倒计时。
     - 屏幕右上角会显示大脑基地的当前血量和场上僵尸数量。
     - 屏幕左上方的种子栏会高亮显示当前选中的植物。
5. **回合结束强化选择 (UPGRADE_CHOICE)**：
   - 当一波僵尸被成功清除且未达到最大波数时，游戏会进入强化选择界面。
   - 您可以在提供的几个强化选项中选择一个，例如强化植物攻击、强化植物防御或强化基地生命值。
   - 通过**鼠标左键点击**您想要的强化选项。
   - 选择后，游戏将进入短暂的休息期，然后开始下一波。
6. **暂停界面 (PAUSED)**：
   - 在游戏进行中（`PLAYING`状态），按下 `ESC` 键可以暂停游戏。
   - 在暂停界面：
     - **鼠标左键点击**屏幕任意位置可以恢复游戏，返回 `PLAYING` 状态。
     - 再次按下 `ESC` 键，游戏将清理当前会话并返回到 `START_SCREEN`（开始界面）。
7. **游戏结束 (GAME_OVER / GAME_VICTORY)**：
   - 如果您的“大脑基地”生命值降至零，游戏将进入 `GAME_OVER` 状态，表示游戏失败。
   - 如果您成功抵御了所有波数（默认为5波）的僵尸攻击，游戏将进入 `GAME_VICTORY` 状态，表示游戏胜利。
   - 在游戏结束或胜利界面，**鼠标左键点击**屏幕任意位置将退出游戏。
   - 无论是胜利还是失败，您的胜败场次都会被记录下来。

## 4. 操作指南

- 玩家移动

  ：

  - 使用 `W` 键或 `向上方向键`：向上移动。
  - 使用 `S` 键或 `向下方向键`：向下移动。
  - 使用 `A` 键或 `向左方向键`：向左移动，角色会朝向左方。
  - 使用 `D` 键或 `向右方向键`：向右移动，角色会朝向右方。

- 植物选择

  ：

  - 按 `1` 键：选择向日葵 (花费: 50 太阳)。
  - 按 `2` 键：选择豌豆射手 (花费: 100 太阳)。
  - 按 `3` 键：选择坚果墙 (花费: 50 太阳)。
  - 按 `4` 键：选择高坚果 (花费: 125 太阳)。
  - 按 `5` 键：选择双发射手 (花费: 200 太阳)。
  - 松开数字键会取消植物选择。

- **放置植物**：在选择了植物（按住对应数字键不放）后，移动玩家角色到期望位置，然后**鼠标左键点击**地图区域即可放置。

- **暂停游戏**：在游戏进行中按 `ESC` 键。

## 5. 游戏实体

#### 植物 (Plants)

- **向日葵 (Sunflower)**：资源植物，能产生太阳。
- **豌豆射手 (Peashooter)**：攻击植物，能发射单颗豌豆攻击僵尸。
- **双发射手 (Repeater)**：攻击植物，能快速连续发射两颗豌豆。
- **坚果墙 (WallNut)**：防御植物，拥有较高生命值，能有效阻挡僵尸前进。
- **高坚果 (TallWallNut)**：防御植物，比坚果墙拥有更高的生命值。

#### 僵尸 (Zombies)

- **普通僵尸 (NormalZombie)**：基础的僵尸类型。
- **路障僵尸 (ConeZombie)**：头戴路障，拥有额外的护甲（盔甲生命值）。
- **铁桶僵尸 (BucketZombie)**：头戴铁桶，比路障僵尸拥有更高的护甲。
- **精英僵尸 (EliteZombie)**：比普通僵尸更强大，拥有更高的生命值和攻击力。
- **僵尸AI**：僵尸会优先攻击高优先级的防御植物（如坚果墙），然后是最近的其他植物，最后才会攻击大脑基地。

#### 其他

- **大脑基地 (BrainBase)**：您需要保护的核心目标，拥有1000点初始生命值。
- **墓碑 (Tombstone)**：僵尸的生成点。

## 6. 提示与技巧

- 合理规划植物布局，利用不同植物的特性组合进行防御。
- 尽早种植向日葵以确保充足的阳光供应。
- 优先保护大脑基地，利用坚果墙等防御植物吸引僵尸火力。
- 根据来袭僵尸的类型和数量，灵活调整植物的种类和位置。
- 注意观察战场局势，及时补充或更换受损的植物。
- 在回合结束的强化选择阶段，根据当前的战况和需求做出明智的选择。